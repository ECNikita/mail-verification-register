<!DOCTYPE html>
<html>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  
  <body>
    <canvas id="myChart" style="width: 100%; max-width: 600px"></canvas>
    <canvas id="barChart" style="width:100%;max-width:600px"></canvas>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
      $(document).ready(function () {
          var req = {
            "Product_id": 2,
            "datefrom": "2020-10-29T12:41:01.657Z",
            "dateto": "2022-10-29T12:41:01.657Z",
          };
        $.post(
          "http://127.0.0.1:8000/getchart",
          JSON.stringify(req),
          function (data, status) {
            console.log(data);
            showchart(data);
          }
        );
      });
      function showchart(data){
          var datearr=[],pricearr=[],quanarr=[];
          for(var i =0;i<data.length;i++)
          {
              datearr.push(data[i].datefrom);
              pricearr.push(data[i].price);
              quanarr.push(data[i].quantity)
          }



      new Chart("myChart", {
        type: "line",
        data: {
          labels: datearr,
          datasets: [
                      {
              data:quanarr,
              borderColor: "green",
              fill: false,
            },
          ],
        },
        options: {
          legend: { display: false },
        },
      });

      new Chart("barChart", {
        type: "bar",
        data: {
          labels: datearr,
          datasets: [
            {
              data: pricearr,
              borderColor: "red",
              backgroundColor: "red",
              fill: true,
            },
            
          ],
        },
        options: {
          legend: { display: false },
        },
      });
      

      }

      
    </script>
  </body>
</html>
